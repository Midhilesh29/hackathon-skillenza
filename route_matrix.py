# -*- coding: utf-8 -*-
"""route_matrix.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1-5HkFeeoA6PreX1idFH-Hg1RngZ7N1mI
"""

import requests
from json import loads
link = "https://atlas.microsoft.com/route/matrix/json?subscription-key=8Gc_brD9CgHHB6zUEea-qDdBREj_1Vs7BWztozsSjho&api-version=1.0&routeType=shortest"
data = {
  "origins": {
    "type": "MultiPoint",
    "coordinates": [
      [
        4.85106,
        52.36006
      ],
      [
        4.85056,
        52.36187
      ]
    ]
  },
  "destinations": {
    "type": "MultiPoint",
    "coordinates": [
      [
        4.85003,
        52.36241
      ],
      [
        13.42937,
        52.50931
      ]
    ]
  }
}
def get_distance_matrix(data):
  r = requests.post(link,json=data)
  if r.status_code == 202:
    result = requests.get(r.headers['Location'])
    matrix = loads(result.text)
    return matrix
  else:
    raise ValueError(r.content)

get_distance_matrix(data)